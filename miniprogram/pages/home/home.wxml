<!--miniprogram/pages/home/home.wxml-->
<view class="container">
  <header-bar>
    <search></search>
  </header-bar>

  <view class="header">
    <view class="header-container">
      <view class="h1">Discuss, Relate & Share</view>
      <view class="h2">Discussion threads on topics of your choice!</view>
    </view>
  </view>  
  
  <!-- <scroll-view scroll-y> -->
    <block wx:for="{{posts}}" wx:for-item="post" wx:key="id" class="posts-scroll">
      <view class="post-container">
        <view class="title">
          {{post.title}}
        </view>
        <view class="vote-container">
          <button id="{{'upvote-button-' + post.id}}" class="upvote-button">
            <image class="upvote" mode="WidthFix" src="../../images/upvote.png"></image>
          </button>
          <view class="num-votes">{{post.votes}}</view>
          <button id="{{'down-button-' + post.id}}" class="downvote-button">
            <image class="downvote" mode="WidthFix" src="../../images/downvote.png"></image>
          </button>
        </view>
        <view class="body-container">
          <view class="body-text">
          {{post.body}}
          </view>
        </view>
        <view class="clr"></view>
      </view>
    </block>
  <!-- </scroll-view> -->

</view>